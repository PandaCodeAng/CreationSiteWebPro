---
import Layout from '../layouts/Layout.astro';
import CTAButton from '../components/CTAButton.astro';
import OptimizedImage from '../components/OptimizedImage.astro';

const pageTitle = "Portfolio | Réalisations Web Impressionnantes par CreationSiteWebPro";
const pageDescription = "Explorez nos projets de sites web et d'applications réussis. Des solutions innovantes qui ont propulsé nos clients vers le succès digital.";

const projects = [
  {
    title: "E-commerce Luxe pour Maison de Parfum",
    description: "Refonte complète d'une boutique en ligne, résultant en une augmentation de 200% des ventes en 6 mois.",
    image: "/images/parfum-ecommerce.jpg",
    tags: ["E-commerce", "UI/UX", "SEO"],
    results: ["200% d'augmentation des ventes", "Taux de conversion amélioré de 15%", "Temps de chargement réduit de 50%"]
  },
  {
    title: "Application Web pour Gestion de Projet",
    description: "Développement d'une application SaaS de gestion de projet utilisée par plus de 10 000 professionnels.",
    image: "/images/project-management-app.jpg",
    tags: ["Application Web", "SaaS", "UI/UX"],
    results: ["10 000+ utilisateurs actifs", "97% de taux de satisfaction client", "Intégration avec 20+ outils populaires"]
  },
  {
    title: "Site Vitrine pour Cabinet d'Architectes",
    description: "Création d'un site vitrine élégant et performant, mettant en valeur les réalisations du cabinet.",
    image: "/images/architect-website.jpg",
    tags: ["Site Vitrine", "Design Responsive", "SEO"],
    results: ["Trafic organique augmenté de 150%", "Temps passé sur le site amélioré de 75%", "30% d'augmentation des demandes de devis"]
  }
];

---

<Layout title={pageTitle} description={pageDescription}>
  <main class="portfolio-page">
    <h1>{pageTitle}</h1>
    <p class="intro">{pageDescription}</p>

    <section class="projects">
      {projects.map((project, index) => (
        <div class="project-card">
        <OptimizedImage 
            src={project.image} 
            alt={project.title} 
            className="project-image"
            width={400} 
            height={300} 
          />      
         <div class="project-details">
            <h2>{project.title}</h2>
            <p>{project.description}</p>
            <div class="tags">
              {project.tags.map(tag => <span class="tag">{tag}</span>)}
            </div>
            <h3>Résultats Clés :</h3>
            <ul class="results">
              {project.results.map(result => <li>{result}</li>)}
            </ul>
            <CTAButton text="Voir le projet" href={`#project-modal-${index}`} />
          </div>
        </div>
      ))}
    </section>

    <section class="social-proof">
      <h2>Ce que disent nos clients</h2>
      <div class="testimonials">
        <blockquote>
          "L'équipe de CreationSiteWebPro a transformé notre présence en ligne. Leur expertise en SEO nous a permis d'atteindre de nouveaux sommets!"
          - Marie Dupont, PDG de TechInnovate
        </blockquote>
        <blockquote>
          "Un travail exceptionnel! Notre e-commerce a vu ses ventes exploser grâce à leur refonte intelligente et orientée conversion."
          - Jean Martin, Fondateur de LuxeParfums
        </blockquote>
      </div>
    </section>

    <section class="cta-section">
      <h2>Prêt à propulser votre projet?</h2>
      <p>Rejoignez nos clients satisfaits et transformez votre vision en réalité digitale.</p>
      <a href="/contact" class="cta-button">Obtenez votre devis gratuit <span class="urgency">Offre limitée!</span></a>
      <p class="social-proof2">Déjà plus de 1000 entreprises satisfaites</p>
    </section>
  </main>
</Layout>

<style>
  .cta-button {
    display: inline-block;
    background-color: var(--color-secondary);
    color: white;
    padding: 0.75rem 1.5rem;
    text-decoration: none;
    border-radius: 5px;
    transition: background-color 0.3s ease, transform 0.3s ease;
    font-size: clamp(1rem, 2vw, 1.1rem);
  }
  .social-proof2 {
    margin-top: 1rem;
    font-size: clamp(0.9rem, 2vw, 1rem);
    font-weight: bold;
  }
  .cta-button:hover {
    background-color: #ff8533;
    transform: translateY(-3px);
  }
  .urgency {
    display: inline-block;
    background-color: #ff4500;
    color: white;
    font-size: 0.8em;
    padding: 0.2em 0.5em;
    border-radius: 3px;
    margin-left: 0.5em;
  }
  .portfolio-page {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
    margin-top: 5rem;
  }

  h1 {
    color: var(--color-primary);
    font-size: clamp(1.5rem, 5vw, 2.5rem);
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .intro {
    font-size: clamp(0.9rem, 3vw, 1.2rem);
    margin-bottom: 2rem;
    text-align: center;
  }

  .project-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
    transition: transform 0.3s ease;
  }

  .project-card:hover {
    transform: translateY(-5px);
  }

  .project-image {
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  .project-details {
    padding: 1rem;
  }

  .project-details h2 {
    font-size: clamp(1.2rem, 4vw, 1.8rem);
    color: var(--color-secondary);
    margin-bottom: 0.5rem;
  }

  .project-details p {
    font-size: clamp(0.8rem, 3vw, 1rem);
    margin-bottom: 1rem;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .tag {
    background-color: var(--color-primary);
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: clamp(0.7rem, 2vw, 0.9rem);
  }

  .results {
    list-style-type: none;
    padding-left: 0;
    margin-bottom: 1rem;
  }

  .results li {
    font-size: clamp(0.8rem, 2.5vw, 1rem);
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .results li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--color-secondary);
  }

  .social-proof {
    background-color: #f0f0f0;
    padding: 2rem 1rem;
    border-radius: 8px;
    margin-top: 3rem;
  }

  .social-proof h2 {
    font-size: clamp(1.2rem, 4vw, 2rem);
    text-align: center;
    margin-bottom: 1.5rem;
  }

  blockquote {
    font-style: italic;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background-color: white;
    border-left: 3px solid var(--color-secondary);
    font-size: clamp(0.8rem, 2.5vw, 1rem);
  }

  .cta-section {
    background-color: var(--color-primary);
    color: white;
    text-align: center;
    padding: 2rem 1rem;
    border-radius: 8px;
    margin-top: 3rem;
  }

  .cta-section h2 {
    font-size: clamp(1.2rem, 4vw, 2rem);
    margin-bottom: 1rem;
  }

  .cta-section p {
    font-size: clamp(0.9rem, 3vw, 1.1rem);
    margin-bottom: 1.5rem;
  }
  @media (max-width: 1067px) {
    .portfolio-page {
      padding: 0.5rem;
      margin-top: 7rem;
    }
    .project-card {
      display: block;
    }
  }
  @media (max-width: 768px) {
    .portfolio-page {
      padding: 0.5rem;
      margin-top: 7rem;
    }
    .project-card {
      display: block;
    }
  }
  @media (max-width: 459px) {
    .portfolio-page {
      padding: 0.5rem;
      margin-top: 11rem;
    }
  }
  @media (min-width: 769px) {
    
    .project-card {
      display: flex;
    }

    .project-image {
      width: 40%;
    }

    .project-details {
      width: 60%;
    }
  }

  @media (max-width: 320px) {
    .portfolio-page {
      padding: 0.5rem;
      margin-top: 11rem;
    }

    h1 {
      font-size: 1.5rem;
    }

    .intro {
      font-size: 0.8rem;
    }

    .project-details {
      padding: 0.75rem;
    }

    .project-details h2 {
      font-size: 1.2rem;
    }

    .project-details p {
      font-size: 0.8rem;
    }

    .tag {
      font-size: 0.7rem;
      padding: 0.1rem 0.3rem;
    }

    .results li {
      font-size: 0.8rem;
      padding-left: 1.2rem;
    }

    .social-proof {
      padding: 1.5rem 0.75rem;
    }

    blockquote {
      font-size: 0.8rem;
      padding: 0.75rem;
    }

    .cta-section {
      padding: 1.5rem 0.75rem;
    }

    .cta-section h2 {
      font-size: 1.2rem;
    }

    .cta-section p {
      font-size: 0.8rem;
    }
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach(card => {
      card.addEventListener('click', () => {
        card.classList.toggle('expanded');
      });
    });
  });
</script>