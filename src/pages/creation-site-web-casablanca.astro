---
import Layout from '../layouts/Layout.astro';
import CTAButton from '../components/CTAButton.astro';
import Icon from '../components/Icon.astro';
import JsonLd from '../components/JsonLd.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';

const breadcrumbItems = [
  { name: 'Accueil', url: '/' },
  { name: 'Création site web Casablanca' }
];

const pageTitle = "Création site web Casablanca | Agence Web Maroc Expert";
const pageDescription = "Boostez votre présence en ligne avec nos services de création de site web à Casablanca. Experts en design, développement et SEO pour un site performant au Maroc.";

const contactMethods = [
  {
    icon: 'phone',
    title: 'Appelez-nous pour votre projet web à Casablanca',
    content: '+212 6 79 78 29 06',
    action: 'tel:+212679782906'
  },
  {
    icon: 'email',
    title: 'Email pour création de site web à Casablanca',
    content: 'contact@creationsitewebpro.com',
    action: 'mailto:contact@creationsitewebpro.com'
  },
  {
    icon: 'map-marker',
    title: 'Agence Web à Casablanca',
    content: 'belvédère, 20000 Casablanca, Maroc',
    action: 'https://maps.app.goo.gl/b9iNw8ijonfNrXWA7'
  }
];

const faqs = [
  {
    question: "Quel est le prix pour la création d'un site web à Casablanca ?",
    answer: "Le coût de création d'un site web à Casablanca varie selon la complexité et les fonctionnalités désirées. Nous proposons des devis personnalisés et gratuits pour s'adapter à votre budget."
  },
  {
    question: "Combien de temps pour la création d'un site web à Casablanca ?",
    answer: "La durée pour la création d'un site web à Casablanca est généralement de 2-4 semaines pour un site vitrine et 4-8 semaines pour un site e-commerce. Un calendrier précis est fourni pour chaque projet."
  },
  {
    question: "Offrez-vous la maintenance de site web à Casablanca ?",
    answer: "Oui, nous proposons des services de maintenance de site web à Casablanca pour assurer sa sécurité, sa mise à jour et ses performances optimales."
  }
];

const pageSchema = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": pageTitle,
  "description": pageDescription,
  "url": "https://creationsitewebpro.com/creation-site-web-casablanca",
  "mainEntity": {
    "@type": "LocalBusiness",
    "name": "CreationSiteWebPro - Agence de Création Site Web Casablanca",
    "telephone": "+212679782906",
    "priceRange": "€€",
    "email": "contact@creationsitewebpro.com",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "belvédère",
      "addressLocality": "Casablanca",
      "addressCountry": "MA"
    },
    "image": "https://creationsitewebpro.com/images/logo.png",
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "33.5951",
      "longitude": "-7.6183"
    },
    "openingHoursSpecification": [
      {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "09:00",
        "closes": "18:00"
      }
    ],
    "areaServed": {
      "@type": "City",
      "name": "Casablanca"
    },
    "potentialAction": {
      "@type": "ReserveAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://creationsitewebpro.com/creation-site-web-casablanca#contact-form",
        "inLanguage": "fr-FR",
        "actionPlatform": [
          "http://schema.org/DesktopWebPlatform",
          "http://schema.org/IOSPlatform",
          "http://schema.org/AndroidPlatform"
        ]
      },
      "name": "Demander un devis création site web Casablanca"
    }
  },
  "areaServed": {
    "@type": "City",
    "name": "Casablanca"
  },
  "serviceType": "Création de site web",
  "offers": {
    "@type": "Offer",
    "description": "Services de création de sites web professionnels à Casablanca"
  }
};
---

<Layout title={pageTitle} description={pageDescription}>
  <JsonLd data={pageSchema} />
  <main class="creation-site-web-casablanca">
    <Breadcrumbs items={breadcrumbItems} />
    <h1>Création Site Web Casablanca: Votre Partenaire Digital au Maroc</h1>
    
    <p class="intro">
      Vous cherchez une agence experte en <strong>création de site web à Casablanca</strong>? CreationSiteWebPro est votre partenaire de confiance pour développer une présence en ligne puissante et rentable. Nous concevons des sites web sur mesure, optimisés pour le SEO et adaptés à vos objectifs. Que vous ayez besoin d'un site vitrine, d'une boutique e-commerce ou d'une application web complexe, notre équipe à Casablanca est prête à relever le défi.
    </p>

    <section class="contact-methods">
      {contactMethods.map((method) => (
        <div class="contact-card">
          <Icon name={method.icon} />
          <h2>{method.title}</h2>
          <p>{method.content}</p>
          <a href={method.action} class="contact-action">Contacter pour création site web</a>
        </div>
      ))}
    </section>

    <section class="contact-form" id="contact-form">
      <h2>Demandez un Devis Gratuit pour Votre Site Web à Casablanca</h2>
      <p>Remplissez ce formulaire pour obtenir une proposition personnalisée pour la création de votre site web à Casablanca. Réponse sous 24h.</p>
      <form id="contact-form-element">
        <div>
          <label for="name">Nom</label>
          <input type="text" id="name" name="name" required />
        </div>
        <div>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div>
          <label for="phone">Téléphone</label>
          <input type="tel" id="phone" name="phone" />
        </div>
        <div>
          <label for="projectType">Type de projet de création web</label>
          <select id="projectType" name="projectType">
            <option value="site-vitrine-casablanca">Site Vitrine à Casablanca</option>
            <option value="e-commerce-casablanca">E-commerce à Casablanca</option>
            <option value="application-web-casablanca">Application Web à Casablanca</option>
            <option value="refonte-site-casablanca">Refonte de Site à Casablanca</option>
            <option value="autre">Autre projet web</option>
          </select>
        </div>
        <div>
          <label for="message">Décrivez votre projet de site web</label>
          <textarea id="message" name="message" placeholder="Détaillez vos besoins pour la création de votre site web à Casablanca..." required></textarea>
        </div>
        <button type="submit" class="cta-button">Envoyer ma demande de devis</button>
      </form>
    </section>

    <section class="faq">
      <h2>Questions Fréquentes sur la Création de Site Web à Casablanca</h2>
      {faqs.map((item) => (
        <details>
          <summary>{item.question}</summary>
          <p>{item.answer}</p>
        </details>
      ))}
    </section>

    <section class="services-casablanca">
      <h2>Nos Services de Création de Site Web à Casablanca</h2>
      <p>
        En tant qu'agence web leader à Casablanca, nous offrons une gamme complète de services pour garantir le succès de votre projet digital :
      </p>
      <ul>
        <li>Conception de sites web vitrines professionnels à Casablanca.</li>
        <li>Développement de plateformes e-commerce performantes pour vendre en ligne au Maroc.</li>
        <li>Création d'applications web sur mesure pour répondre à des besoins spécifiques.</li>
        <li>Optimisation SEO pour un meilleur classement de votre site web à Casablanca sur Google.</li>
        <li>Refonte de sites existants pour améliorer leur design et leurs performances.</li>
        <li>Hébergement web et maintenance technique pour votre site à Casablanca.</li>
      </ul>
      <p>
        Notre approche est centrée sur vos objectifs. Nous travaillons en étroite collaboration avec vous pour comprendre vos besoins et vous livrer un site web qui non seulement est esthétique, mais qui génère également des résultats concrets pour votre entreprise à Casablanca.
      </p>
    </section>

    <section class="trust-signals">
      <h2>Ils Ont Choisi Notre Agence Web à Casablanca</h2>
      <div class="logo-grid">
        <!-- Ajoutez ici les logos de vos clients ou partenaires -->
      </div>
      <p>Rejoignez plus de 1000 entreprises à Casablanca et au Maroc satisfaites par CreationSiteWebPro.</p>
    </section>
    <section class="faq" aria-labelledby="faq-title">
      <h2 id="faq-title">Questions fréquentes sur la création de sites web à Casablanca</h2>
      <dl>
        <dt>Combien coûte la création d'un site web à Casablanca ?</dt>
        <dd>Le coût varie en fonction de vos besoins spécifiques. Nos tarifs commencent à partir de 4 776 MAD pour un site vitrine de base. Contactez-nous pour un devis personnalisé.</dd>
        
        <dt>Combien de temps faut-il pour créer un site web ?</dt>
        <dd>La durée de création dépend de la complexité du projet. En général, un site vitrine peut être réalisé en 2 à 4 semaines, tandis qu'un e-commerce peut prendre 4 à 8 semaines.</dd>
        
        <!-- Ajoutez d'autres questions pertinentes -->
      </dl>
    </section>
    <section id="contact" class="cta-section">
      <h2>Prêt à Booster Votre Présence En Ligne à Casablanca ?</h2>
      <p>Obtenez un devis gratuit pour votre projet digital à Casablanca.</p>
      <a href="/creation-site-web-casablanca" class="cta-button">Obtenez votre devis gratuit <span class="urgency">Offre limitée!</span></a>
      <p class="social-proof">Déjà plus de 1000 entreprises satisfaites</p>
  </section>
  <section class="map-section">
  <h2>Nous trouver à Casablanca</h2>
  <div class="map-container">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d106376.72691566402!2d-7.6190!3d33.5731!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xda7cd4778aa113b%3A0xb06c1d84f310fd3!2sAin%20Sebaa%2C%20Casablanca%2C%20Maroc!5e0!3m2!1sfr!2s!4v1617000000000!5m2!1sfr!2s" 
      width="100%" 
      height="450" 
      style="border:0;" 
      allowfullscreen="" 
      loading="lazy" 
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
</section>
  </main>
  <script>
    const form = document.getElementById('contact-form-element') as HTMLFormElement; 
    
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const data = Object.fromEntries(formData);
  
      const apiUrl = import.meta.env.DEV 
        ? '/api/send-email' 
        : '/.netlify/functions/send-email';
  
      try {
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });
  
        if (response.ok) {
          const result = await response.json();
          alert(result.message || 'Message envoyé avec succès!');
          form.reset();
        } else {
          let errorMessage = "Erreur lors de l'envoi du message";
          try {
            const errorResult = await response.json();
            errorMessage = errorResult.message || errorMessage;
          } catch (jsonError) {
            console.error('Failed to parse error response JSON:', jsonError);
          }
          throw new Error(errorMessage);
        }
      } catch (error) {
        console.error('Erreur:', error);
        if (error instanceof Error) {
          alert(error.message);
        } else {
          alert('Une erreur est survenue. Veuillez réessayer.');
        }
      }
    });
  </script>
</Layout>

<style>
  /* Base styles (mobile-first) */
  .creation-site-web-casablanca {
    padding: 1rem;
    max-width: 100%;
    overflow-x: hidden;
    margin-top: 10rem;
  }
  .social-proof {
    margin-top: 1rem;
    font-size: clamp(0.9rem, 2vw, 1rem);
    font-weight: bold;
  }
  .cta-button {
    display: inline-block;
    background-color: var(--color-secondary);
    color: white;
    padding: 0.75rem 1.5rem;
    text-decoration: none;
    border-radius: 5px;
    transition: background-color 0.3s ease, transform 0.3s ease;
    font-size: clamp(1rem, 2vw, 1.1rem);
  }
  .cta-button:hover {
    background-color: #ff8533;
    transform: translateY(-3px);
  }
  .urgency {
    display: inline-block;
    background-color: #ff4500;
    color: white;
    font-size: 0.8em;
    padding: 0.2em 0.5em;
    border-radius: 3px;
    margin-left: 0.5em;
  }
  h1 {
    font-size: 2rem;
    color: var(--color-primary);
    text-align: center;
    margin-bottom: 1rem;
  }

  .intro {
    font-size: 1rem;
    text-align: center;
    margin-bottom: 2rem;
  }

  .services-grid {
    display: grid;
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .service-card {
    background-color: #f5f5f5;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .service-card:active {
    transform: scale(0.98);
  }

  .service-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
  }

  .service-header svg {
    width: 2rem;
    height: 2rem;
    margin-right: 0.5rem;
    color: var(--color-secondary);
  }

  .service-card h2 {
    font-size: 1.2rem;
    margin: 0;
    color: var(--color-primary);
  }

  .service-description {
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }

  details {
    margin-bottom: 1rem;
  }

  summary {
    cursor: pointer;
    font-weight: bold;
    margin-bottom: 0.5rem;
  }

  .features-list {
    list-style-type: none;
    padding-left: 0;
  }

  .features-list li {
    display: flex;
    align-items: center;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }

  .features-list svg {
    width: 1rem;
    height: 1rem;
    margin-right: 0.5rem;
    color: var(--color-secondary);
  }

  .casablanca-focus {
    background-color: #f9f9f9;
    padding: 2rem;
    border-radius: 8px;
    margin-bottom: 3rem;
  }

  .casablanca-focus h2 {
    color: var(--color-primary);
    margin-bottom: 1rem;
  }

  .casablanca-focus ul {
    list-style-type: none;
    padding-left: 0;
  }

  .casablanca-focus li {
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .casablanca-focus li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--color-secondary);
  }

  .why-choose-us {
    background-color: #e6f2ff;
    padding: 2rem 1rem;
    border-radius: 8px;
    margin-bottom: 3rem;
  }

  .why-choose-us h2 {
    font-size: 1.5rem;
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .benefits-grid {
    display: grid;
    gap: 1.5rem;
  }

  .benefit {
    text-align: center;
  }

  .benefit svg {
    width: 2.5rem;
    height: 2.5rem;
    color: var(--color-secondary);
    margin-bottom: 0.5rem;
  }

  .benefit h3 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
  }

  .benefit p {
    font-size: 0.9rem;
  }

  .cta-section {
    background-color: var(--color-primary);
    color: white;
    padding: 2rem 1rem;
    border-radius: 8px;
    text-align: center;
  }

  .cta-section h2 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .cta-section p {
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }
  .related-services, .casablanca-expertise {
    background-color: #f5f5f5;
    padding: 2rem;
    border-radius: 8px;
    margin-top: 2rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .related-services h2, .casablanca-expertise h2 {
    color: var(--color-primary);
    margin-bottom: 1rem;
  }

  .related-services ul, .casablanca-expertise ul {
    list-style-type: none;
    padding-left: 0;
  }

  .related-services li, .casablanca-expertise li {
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .related-services li::before, .casablanca-expertise li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: var(--color-secondary);
  }

  .related-services a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .related-services a:hover {
    color: var(--color-secondary);
  }
  /* Tablet styles */
  @media (min-width: 768px) {
    .creation-site-web-casablanca {
      padding: 2rem;
    }

    h1 {
      font-size: 2.5rem;
    }

    .intro {
      font-size: 1.1rem;
    }

    .services-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }

    .benefits-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Desktop styles */
  @media (min-width: 1024px) {
    .creation-site-web-casablanca {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 2rem;
      margin-top: 5rem;
    }

    h1 {
      font-size: 3rem;
    }

    .intro {
      font-size: 1.2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .services-grid {
      grid-template-columns: repeat(4, 1fr);
    }

    .service-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .benefits-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* Adjustments for very small screens */
  @media (max-width: 459px) {
    .creation-site-web-casablanca {
      padding: 0.5rem;
      margin-top: 11rem;
    }

    h1 {
      font-size: 1.75rem;
    }

    .intro {
      font-size: 0.9rem;
    }

    .service-card {
      padding: 1rem;
    }

    .service-card h2 {
      font-size: 1.1rem;
    }

    .service-description, .features-list li {
      font-size: 0.8rem;
    }

    .why-choose-us {
      padding: 1.5rem 0.5rem;
    }

    .why-choose-us h2 {
      font-size: 1.3rem;
    }

    .benefit h3 {
      font-size: 0.9rem;
    }

    .benefit p {
      font-size: 0.8rem;
    }

    .cta-section h2 {
      font-size: 1.3rem;
    }

    .cta-section p {
      font-size: 0.9rem;
    }
  }
  .map-section {
  margin: 3rem 0;
}

.map-section h2 {
  color: var(--color-primary);
  font-size: clamp(1.2rem, 4vw, 2rem);
  margin-bottom: 1.5rem;
}

.map-container {
  width: 100%;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.map-container iframe {
  display: block;
  width: 100%;
  height: 450px;
  border: none;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .map-section {
    margin: 2rem 0;
  }
  
  .map-container iframe {
    height: 350px;
  }
}

@media (max-width: 480px) {
  .map-container iframe {
    height: 250px;
  }
}
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const serviceCards = document.querySelectorAll('.service-card');
    
    serviceCards.forEach(card => {
      if (card instanceof HTMLElement) {
        let touchStartTime: number;
        let touchEndTime: number;
        
        card.addEventListener('touchstart', (e: TouchEvent) => {
          e.preventDefault(); // Empêche le comportement par défaut du navigateur
          touchStartTime = new Date().getTime();
          card.style.transform = 'scale(0.98)';
          card.style.transition = 'transform 0.1s ease-in-out';
        });

        card.addEventListener('touchend', () => {
          touchEndTime = new Date().getTime();
          const touchDuration = touchEndTime - touchStartTime;

          card.style.transform = 'scale(1)';

          // Si le toucher a duré moins de 300ms, considérez-le comme un tap
          if (touchDuration < 300) {
            // Simuler un clic pour activer les liens ou autres interactions
            card.click();
          }
        });

        // Gestion du hover pour les appareils non tactiles
        card.addEventListener('mouseenter', () => {
          if (window.matchMedia('(hover: hover)').matches) {
            card.style.transform = 'translateY(-5px)';
            card.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
            card.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
          }
        });

        card.addEventListener('mouseleave', () => {
          if (window.matchMedia('(hover: hover)').matches) {
            card.style.transform = 'translateY(0)';
            card.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
          }
        });
      }
    });

    // Gestion de l'ouverture/fermeture des détails
    const detailsElements = document.querySelectorAll('details');
    detailsElements.forEach(details => {
      details.addEventListener('toggle', () => {
        if (details.open) {
          // Faire défiler doucement jusqu'aux détails ouverts
          setTimeout(() => {
            details.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }, 300);
        }
      });
    });
  });
</script>